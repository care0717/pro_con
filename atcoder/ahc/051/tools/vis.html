<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Waste Processing Visualizer</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background-color: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .controls { margin-bottom: 20px; padding: 15px; background-color: #f9f9f9; border-radius: 8px; }
        .control-group { margin-bottom: 15px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; color: #333; }
        .slider-container { display: flex; align-items: center; gap: 15px; }
        .slider { flex: 1; height: 8px; border-radius: 5px; background: #ddd; outline: none; }
        .slider::-webkit-slider-thumb { appearance: none; width: 20px; height: 20px; border-radius: 50%; background: #4CAF50; cursor: pointer; }
        .slider::-moz-range-thumb { width: 20px; height: 20px; border-radius: 50%; background: #4CAF50; cursor: pointer; border: none; }
        .value-display { min-width: 100px; font-weight: bold; color: #4CAF50; }
        .info { background-color: #e3f2fd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #2196F3; }
        .legend { display: flex; align-items: center; margin-bottom: 10px; gap: 10px; }
        .color-box { width: 25px; height: 15px; border: 1px solid #333; border-radius: 3px; }
        .svg-container { border: 2px solid #ddd; border-radius: 8px; overflow: hidden; }
        .highlighted { stroke-width: 4 !important; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🗂️ 廃棄物処理システム ビジュアライザ</h1>
        
        <div class="controls">
            <div class="control-group">
                <label for="wasteTypeSlider">ゴミ種類選択:</label>
                <div class="slider-container">
                    <span>全体表示</span>
                    <input type="range" id="wasteTypeSlider" class="slider" min="-1" max="19" value="-1" oninput="updateVisualization()">
                    <span class="value-display" id="wasteTypeValue">全体表示</span>
                </div>
            </div>
        </div>
        
        <div class="info">
            <div class="legend">
                <span>通過確率:</span>
                <div class="color-box" style="background: linear-gradient(to right, #1e90ff, #ff6347);"></div>
                <span>低 (青) → 高 (赤)</span>
            </div>
            <div id="scoreInfo">スコア: 0</div>
            <div id="probInfo"></div>
        </div>
        
        <div class="svg-container" id="svgContainer">
            <svg height="610" id="vis" style="background-color:white" viewBox="-5 -5 610 610" width="610" xmlns="http://www.w3.org/2000/svg">
<defs>
<marker id="arrowhead" markerHeight="7" markerWidth="10" orient="auto" refX="9" refY="3.5">
<polygon fill="gray" points="0 0, 10 3.5, 0 7"/>
</marker>
</defs>
<style>
text {text-anchor: middle;dominant-baseline: central;} .edge-line { marker-end: url(#arrowhead); } .separator-node { fill: lightblue; stroke: darkblue; stroke-width: 1.5; } .processor-node { fill: lightgreen; stroke: darkgreen; stroke-width: 2; } .entrance-node { fill: orange; stroke: darkorange; stroke-width: 2; }
</style>
<g>
<title>edge: inlet - 40</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="0" x2="20" y1="300" y2="311"/>
</g>
<g>
<title>vertex: inlet</title>
<circle class="entrance-node" cx="0" cy="300" r="3"/>
</g>
<g>
<title>edge: 40 - 8</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="20" x2="35" y1="311" y2="332"/>
</g>
<g>
<title>edge: 40 - 70</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="20" x2="28" y1="311" y2="269"/>
</g>
<g>
<title>edge: 41 - 5</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="175" x2="194" y1="81" y2="43"/>
</g>
<g>
<title>edge: 41 - 5</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="175" x2="194" y1="81" y2="43"/>
</g>
<g>
<title>edge: 42 - 3</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="464" x2="462" y1="518" y2="547"/>
</g>
<g>
<title>edge: 42 - 102</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="464" x2="484" y1="518" y2="563"/>
</g>
<g>
<title>edge: 43 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="369" x2="369" y1="95" y2="118"/>
</g>
<g>
<title>edge: 43 - 119</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="369" x2="377" y1="95" y2="66"/>
</g>
<g>
<title>edge: 44 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="549" x2="369" y1="131" y2="118"/>
</g>
<g>
<title>edge: 44 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="549" x2="369" y1="131" y2="118"/>
</g>
<g>
<title>edge: 45 - 120</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="279" x2="252" y1="558" y2="573"/>
</g>
<g>
<title>edge: 45 - 97</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="279" x2="338" y1="558" y2="582"/>
</g>
<g>
<title>edge: 47 - 60</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="531" x2="568" y1="184" y2="154"/>
</g>
<g>
<title>edge: 47 - 44</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="531" x2="549" y1="184" y2="131"/>
</g>
<g>
<title>edge: 48 - 83</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="217" x2="205" y1="92" y2="46"/>
</g>
<g>
<title>edge: 48 - 5</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="217" x2="194" y1="92" y2="43"/>
</g>
<g>
<title>edge: 49 - 47</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="421" x2="531" y1="226" y2="184"/>
</g>
<g>
<title>edge: 49 - 47</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="421" x2="531" y1="226" y2="184"/>
</g>
<g>
<title>edge: 50 - 6</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="297" x2="301" y1="85" y2="90"/>
</g>
<g>
<title>edge: 50 - 112</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="297" x2="302" y1="85" y2="78"/>
</g>
<g>
<title>edge: 51 - 36</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="178" x2="247" y1="375" y2="435"/>
</g>
<g>
<title>edge: 51 - 36</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="178" x2="247" y1="375" y2="435"/>
</g>
<g>
<title>edge: 52 - 91</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="139" x2="147" y1="180" y2="233"/>
</g>
<g>
<title>edge: 52 - 2</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="139" x2="150" y1="180" y2="303"/>
</g>
<g>
<title>edge: 53 - 106</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="139" x2="237" y1="410" y2="428"/>
</g>
<g>
<title>edge: 53 - 106</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="139" x2="237" y1="410" y2="428"/>
</g>
<g>
<title>edge: 54 - 8</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="14" x2="35" y1="369" y2="332"/>
</g>
<g>
<title>edge: 54 - 8</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="14" x2="35" y1="369" y2="332"/>
</g>
<g>
<title>edge: 56 - 1</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="160" x2="142" y1="541" y2="533"/>
</g>
<g>
<title>edge: 56 - 132</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="160" x2="177" y1="541" y2="589"/>
</g>
<g>
<title>edge: 57 - 85</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="42" x2="31" y1="174" y2="89"/>
</g>
<g>
<title>edge: 57 - 99</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="42" x2="100" y1="174" y2="88"/>
</g>
<g>
<title>edge: 58 - 11</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="550" x2="520" y1="444" y2="397"/>
</g>
<g>
<title>edge: 58 - 7</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="550" x2="578" y1="444" y2="340"/>
</g>
<g>
<title>edge: 59 - 87</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="4" x2="35" y1="571" y2="521"/>
</g>
<g>
<title>edge: 59 - 107</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="4" x2="50" y1="571" y2="515"/>
</g>
<g>
<title>edge: 60 - 19</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="568" x2="539" y1="154" y2="112"/>
</g>
<g>
<title>edge: 60 - 19</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="568" x2="539" y1="154" y2="112"/>
</g>
<g>
<title>edge: 61 - 110</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="190" x2="179" y1="332" y2="351"/>
</g>
<g>
<title>edge: 61 - 143</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="190" x2="220" y1="332" y2="349"/>
</g>
<g>
<title>edge: 62 - 66</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="417" x2="386" y1="61" y2="41"/>
</g>
<g>
<title>edge: 62 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="417" x2="369" y1="61" y2="118"/>
</g>
<g>
<title>edge: 64 - 9</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="117" x2="83" y1="406" y2="453"/>
</g>
<g>
<title>edge: 64 - 104</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="117" x2="152" y1="406" y2="475"/>
</g>
<g>
<title>edge: 65 - 7</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="557" x2="578" y1="483" y2="340"/>
</g>
<g>
<title>edge: 65 - 7</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="557" x2="578" y1="483" y2="340"/>
</g>
<g>
<title>edge: 66 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="386" x2="369" y1="41" y2="118"/>
</g>
<g>
<title>edge: 66 - 5</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="386" x2="194" y1="41" y2="43"/>
</g>
<g>
<title>edge: 67 - 10</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="355" x2="286" y1="231" y2="277"/>
</g>
<g>
<title>edge: 67 - 10</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="355" x2="286" y1="231" y2="277"/>
</g>
<g>
<title>edge: 68 - 73</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="68" x2="63" y1="190" y2="184"/>
</g>
<g>
<title>edge: 68 - 57</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="68" x2="42" y1="190" y2="174"/>
</g>
<g>
<title>edge: 69 - 109</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="131" x2="198" y1="165" y2="215"/>
</g>
<g>
<title>edge: 69 - 134</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="131" x2="215" y1="165" y2="205"/>
</g>
<g>
<title>edge: 70 - 135</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="28" x2="63" y1="269" y2="259"/>
</g>
<g>
<title>edge: 70 - 133</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="28" x2="75" y1="269" y2="248"/>
</g>
<g>
<title>edge: 71 - 2</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="202" x2="150" y1="270" y2="303"/>
</g>
<g>
<title>edge: 71 - 118</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="202" x2="255" y1="270" y2="184"/>
</g>
<g>
<title>edge: 72 - 6</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="269" x2="301" y1="160" y2="90"/>
</g>
<g>
<title>edge: 72 - 50</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="269" x2="297" y1="160" y2="85"/>
</g>
<g>
<title>edge: 73 - 117</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="63" x2="102" y1="184" y2="179"/>
</g>
<g>
<title>edge: 73 - 103</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="63" x2="110" y1="184" y2="140"/>
</g>
<g>
<title>edge: 74 - 21</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="230" x2="226" y1="129" y2="82"/>
</g>
<g>
<title>edge: 74 - 21</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="230" x2="226" y1="129" y2="82"/>
</g>
<g>
<title>edge: 75 - 115</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="381" x2="403" y1="499" y2="556"/>
</g>
<g>
<title>edge: 75 - 3</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="381" x2="462" y1="499" y2="547"/>
</g>
<g>
<title>edge: 76 - 11</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="451" x2="520" y1="386" y2="397"/>
</g>
<g>
<title>edge: 76 - 11</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="451" x2="520" y1="386" y2="397"/>
</g>
<g>
<title>edge: 77 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="523" x2="369" y1="76" y2="118"/>
</g>
<g>
<title>edge: 77 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="523" x2="369" y1="76" y2="118"/>
</g>
<g>
<title>edge: 78 - 9</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="45" x2="83" y1="443" y2="453"/>
</g>
<g>
<title>edge: 78 - 8</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="45" x2="35" y1="443" y2="332"/>
</g>
<g>
<title>edge: 79 - 7</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="507" x2="578" y1="300" y2="340"/>
</g>
<g>
<title>edge: 79 - 7</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="507" x2="578" y1="300" y2="340"/>
</g>
<g>
<title>edge: 80 - 98</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="281" x2="296" y1="168" y2="132"/>
</g>
<g>
<title>edge: 80 - 140</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="281" x2="318" y1="168" y2="140"/>
</g>
<g>
<title>edge: 81 - 11</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="545" x2="520" y1="480" y2="397"/>
</g>
<g>
<title>edge: 81 - 11</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="545" x2="520" y1="480" y2="397"/>
</g>
<g>
<title>edge: 82 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="358" x2="369" y1="126" y2="118"/>
</g>
<g>
<title>edge: 82 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="358" x2="369" y1="126" y2="118"/>
</g>
<g>
<title>edge: 83 - 5</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="205" x2="194" y1="46" y2="43"/>
</g>
<g>
<title>edge: 83 - 5</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="205" x2="194" y1="46" y2="43"/>
</g>
<g>
<title>edge: 84 - 54</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="15" x2="14" y1="451" y2="369"/>
</g>
<g>
<title>edge: 84 - 54</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="15" x2="14" y1="451" y2="369"/>
</g>
<g>
<title>edge: 85 - 0</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="31" x2="111" y1="89" y2="63"/>
</g>
<g>
<title>edge: 85 - 0</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="31" x2="111" y1="89" y2="63"/>
</g>
<g>
<title>edge: 86 - 67</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="368" x2="355" y1="312" y2="231"/>
</g>
<g>
<title>edge: 86 - 67</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="368" x2="355" y1="312" y2="231"/>
</g>
<g>
<title>edge: 87 - 84</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="35" x2="15" y1="521" y2="451"/>
</g>
<g>
<title>edge: 87 - 78</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="35" x2="45" y1="521" y2="443"/>
</g>
<g>
<title>edge: 88 - 8</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="76" x2="35" y1="353" y2="332"/>
</g>
<g>
<title>edge: 88 - 130</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="76" x2="122" y1="353" y2="382"/>
</g>
<g>
<title>edge: 89 - 10</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="331" x2="286" y1="168" y2="277"/>
</g>
<g>
<title>edge: 89 - 10</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="331" x2="286" y1="168" y2="277"/>
</g>
<g>
<title>edge: 90 - 79</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="377" x2="507" y1="319" y2="300"/>
</g>
<g>
<title>edge: 90 - 79</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="377" x2="507" y1="319" y2="300"/>
</g>
<g>
<title>edge: 91 - 2</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="147" x2="150" y1="233" y2="303"/>
</g>
<g>
<title>edge: 91 - 2</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="147" x2="150" y1="233" y2="303"/>
</g>
<g>
<title>edge: 92 - 94</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="184" x2="197" y1="559" y2="593"/>
</g>
<g>
<title>edge: 92 - 94</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="184" x2="197" y1="559" y2="593"/>
</g>
<g>
<title>edge: 93 - 10</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="358" x2="286" y1="274" y2="277"/>
</g>
<g>
<title>edge: 93 - 10</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="358" x2="286" y1="274" y2="277"/>
</g>
<g>
<title>edge: 94 - 59</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="197" x2="4" y1="593" y2="571"/>
</g>
<g>
<title>edge: 94 - 59</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="197" x2="4" y1="593" y2="571"/>
</g>
<g>
<title>edge: 95 - 10</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="299" x2="286" y1="390" y2="277"/>
</g>
<g>
<title>edge: 95 - 93</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="299" x2="358" y1="390" y2="274"/>
</g>
<g>
<title>edge: 97 - 129</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="338" x2="437" y1="582" y2="575"/>
</g>
<g>
<title>edge: 97 - 3</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="338" x2="462" y1="582" y2="547"/>
</g>
<g>
<title>edge: 98 - 6</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="296" x2="301" y1="132" y2="90"/>
</g>
<g>
<title>edge: 98 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="296" x2="369" y1="132" y2="118"/>
</g>
<g>
<title>edge: 99 - 0</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="100" x2="111" y1="88" y2="63"/>
</g>
<g>
<title>edge: 99 - 0</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="100" x2="111" y1="88" y2="63"/>
</g>
<g>
<title>edge: 100 - 11</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="411" x2="520" y1="352" y2="397"/>
</g>
<g>
<title>edge: 100 - 11</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="411" x2="520" y1="352" y2="397"/>
</g>
<g>
<title>edge: 101 - 7</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="560" x2="578" y1="289" y2="340"/>
</g>
<g>
<title>edge: 101 - 7</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="560" x2="578" y1="289" y2="340"/>
</g>
<g>
<title>edge: 102 - 3</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="484" x2="462" y1="563" y2="547"/>
</g>
<g>
<title>edge: 102 - 81</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="484" x2="545" y1="563" y2="480"/>
</g>
<g>
<title>edge: 103 - 0</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="110" x2="111" y1="140" y2="63"/>
</g>
<g>
<title>edge: 103 - 41</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="110" x2="175" y1="140" y2="81"/>
</g>
<g>
<title>edge: 104 - 1</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="152" x2="142" y1="475" y2="533"/>
</g>
<g>
<title>edge: 104 - 1</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="152" x2="142" y1="475" y2="533"/>
</g>
<g>
<title>edge: 105 - 95</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="243" x2="299" y1="353" y2="390"/>
</g>
<g>
<title>edge: 105 - 10</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="243" x2="286" y1="353" y2="277"/>
</g>
<g>
<title>edge: 106 - 45</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="237" x2="279" y1="428" y2="558"/>
</g>
<g>
<title>edge: 106 - 45</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="237" x2="279" y1="428" y2="558"/>
</g>
<g>
<title>edge: 107 - 4</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="50" x2="88" y1="515" y2="566"/>
</g>
<g>
<title>edge: 107 - 9</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="50" x2="83" y1="515" y2="453"/>
</g>
<g>
<title>edge: 109 - 80</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="198" x2="281" y1="215" y2="168"/>
</g>
<g>
<title>edge: 109 - 2</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="198" x2="150" y1="215" y2="303"/>
</g>
<g>
<title>edge: 110 - 51</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="179" x2="178" y1="351" y2="375"/>
</g>
<g>
<title>edge: 110 - 105</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="179" x2="243" y1="351" y2="353"/>
</g>
<g>
<title>edge: 111 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="563" x2="369" y1="66" y2="118"/>
</g>
<g>
<title>edge: 111 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="563" x2="369" y1="66" y2="118"/>
</g>
<g>
<title>edge: 112 - 6</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="302" x2="301" y1="78" y2="90"/>
</g>
<g>
<title>edge: 112 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="302" x2="369" y1="78" y2="118"/>
</g>
<g>
<title>edge: 113 - 90</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="333" x2="377" y1="376" y2="319"/>
</g>
<g>
<title>edge: 113 - 100</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="333" x2="411" y1="376" y2="352"/>
</g>
<g>
<title>edge: 115 - 3</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="403" x2="462" y1="556" y2="547"/>
</g>
<g>
<title>edge: 115 - 3</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="403" x2="462" y1="556" y2="547"/>
</g>
<g>
<title>edge: 116 - 89</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="285" x2="331" y1="171" y2="168"/>
</g>
<g>
<title>edge: 116 - 10</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="285" x2="286" y1="171" y2="277"/>
</g>
<g>
<title>edge: 117 - 69</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="102" x2="131" y1="179" y2="165"/>
</g>
<g>
<title>edge: 117 - 52</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="102" x2="139" y1="179" y2="180"/>
</g>
<g>
<title>edge: 118 - 82</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="255" x2="358" y1="184" y2="126"/>
</g>
<g>
<title>edge: 118 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="255" x2="369" y1="184" y2="118"/>
</g>
<g>
<title>edge: 119 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="377" x2="369" y1="66" y2="118"/>
</g>
<g>
<title>edge: 119 - 5</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="377" x2="194" y1="66" y2="43"/>
</g>
<g>
<title>edge: 120 - 22</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="252" x2="412" y1="573" y2="596"/>
</g>
<g>
<title>edge: 120 - 22</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="252" x2="412" y1="573" y2="596"/>
</g>
<g>
<title>edge: 121 - 5</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="210" x2="194" y1="107" y2="43"/>
</g>
<g>
<title>edge: 121 - 5</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="210" x2="194" y1="107" y2="43"/>
</g>
<g>
<title>edge: 122 - 0</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="23" x2="111" y1="56" y2="63"/>
</g>
<g>
<title>edge: 122 - 5</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="23" x2="194" y1="56" y2="43"/>
</g>
<g>
<title>edge: 123 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="396" x2="369" y1="89" y2="118"/>
</g>
<g>
<title>edge: 123 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="396" x2="369" y1="89" y2="118"/>
</g>
<g>
<title>edge: 124 - 141</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="575" x2="585" y1="275" y2="243"/>
</g>
<g>
<title>edge: 124 - 111</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="575" x2="563" y1="275" y2="66"/>
</g>
<g>
<title>edge: 125 - 2</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="84" x2="150" y1="297" y2="303"/>
</g>
<g>
<title>edge: 125 - 2</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="84" x2="150" y1="297" y2="303"/>
</g>
<g>
<title>edge: 126 - 136</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="453" x2="486" y1="62" y2="26"/>
</g>
<g>
<title>edge: 126 - 136</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="453" x2="486" y1="62" y2="26"/>
</g>
<g>
<title>edge: 127 - 76</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="395" x2="451" y1="412" y2="386"/>
</g>
<g>
<title>edge: 127 - 76</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="395" x2="451" y1="412" y2="386"/>
</g>
<g>
<title>edge: 129 - 3</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="437" x2="462" y1="575" y2="547"/>
</g>
<g>
<title>edge: 129 - 3</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="437" x2="462" y1="575" y2="547"/>
</g>
<g>
<title>edge: 130 - 64</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="122" x2="117" y1="382" y2="406"/>
</g>
<g>
<title>edge: 130 - 53</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="122" x2="139" y1="382" y2="410"/>
</g>
<g>
<title>edge: 131 - 139</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="42" x2="36" y1="193" y2="150"/>
</g>
<g>
<title>edge: 131 - 139</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="42" x2="36" y1="193" y2="150"/>
</g>
<g>
<title>edge: 132 - 1</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="177" x2="142" y1="589" y2="533"/>
</g>
<g>
<title>edge: 132 - 1</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="177" x2="142" y1="589" y2="533"/>
</g>
<g>
<title>edge: 133 - 68</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="75" x2="68" y1="248" y2="190"/>
</g>
<g>
<title>edge: 133 - 131</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="75" x2="42" y1="248" y2="193"/>
</g>
<g>
<title>edge: 134 - 72</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="215" x2="269" y1="205" y2="160"/>
</g>
<g>
<title>edge: 134 - 74</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="215" x2="230" y1="205" y2="129"/>
</g>
<g>
<title>edge: 135 - 125</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="63" x2="84" y1="259" y2="297"/>
</g>
<g>
<title>edge: 135 - 145</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="63" x2="92" y1="259" y2="319"/>
</g>
<g>
<title>edge: 136 - 5</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="486" x2="194" y1="26" y2="43"/>
</g>
<g>
<title>edge: 136 - 5</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="486" x2="194" y1="26" y2="43"/>
</g>
<g>
<title>edge: 137 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="402" x2="369" y1="193" y2="118"/>
</g>
<g>
<title>edge: 137 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="402" x2="369" y1="193" y2="118"/>
</g>
<g>
<title>edge: 138 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="405" x2="369" y1="217" y2="118"/>
</g>
<g>
<title>edge: 138 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="405" x2="369" y1="217" y2="118"/>
</g>
<g>
<title>edge: 139 - 122</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="36" x2="23" y1="150" y2="56"/>
</g>
<g>
<title>edge: 139 - 122</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="36" x2="23" y1="150" y2="56"/>
</g>
<g>
<title>edge: 140 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="318" x2="369" y1="140" y2="118"/>
</g>
<g>
<title>edge: 140 - 12</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="318" x2="369" y1="140" y2="118"/>
</g>
<g>
<title>edge: 141 - 7</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="585" x2="578" y1="243" y2="340"/>
</g>
<g>
<title>edge: 141 - 7</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="585" x2="578" y1="243" y2="340"/>
</g>
<g>
<title>edge: 142 - 49</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="359" x2="421" y1="334" y2="226"/>
</g>
<g>
<title>edge: 142 - 49</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="359" x2="421" y1="334" y2="226"/>
</g>
<g>
<title>edge: 143 - 71</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="220" x2="202" y1="349" y2="270"/>
</g>
<g>
<title>edge: 143 - 71</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="220" x2="202" y1="349" y2="270"/>
</g>
<g>
<title>edge: 144 - 77</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="471" x2="523" y1="47" y2="76"/>
</g>
<g>
<title>edge: 144 - 77</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="471" x2="523" y1="47" y2="76"/>
</g>
<g>
<title>edge: 145 - 88</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="92" x2="76" y1="319" y2="353"/>
</g>
<g>
<title>edge: 145 - 8</title>
<line class="edge-line" stroke="gray" stroke-width="2" x1="92" x2="35" y1="319" y2="332"/>
</g>
<g>
<title>vertex: 13 (no sorter)</title>
<circle class="separator-node" cx="246" cy="216" r="3"/>
</g>
<g>
<title>vertex: 14 (no sorter)</title>
<circle class="separator-node" cx="495" cy="390" r="3"/>
</g>
<g>
<title>vertex: 15 (no sorter)</title>
<circle class="separator-node" cx="559" cy="344" r="3"/>
</g>
<g>
<title>vertex: 16 (no sorter)</title>
<circle class="separator-node" cx="71" cy="511" r="3"/>
</g>
<g>
<title>vertex: 17 (no sorter)</title>
<circle class="separator-node" cx="290" cy="479" r="3"/>
</g>
<g>
<title>vertex: 18 (no sorter)</title>
<circle class="separator-node" cx="266" cy="58" r="3"/>
</g>
<g>
<title>vertex: 19 (no sorter)</title>
<circle class="separator-node" cx="539" cy="112" r="3"/>
</g>
<g>
<title>vertex: 20 (no sorter)</title>
<circle class="separator-node" cx="397" cy="244" r="3"/>
</g>
<g>
<title>vertex: 21 (no sorter)</title>
<circle class="separator-node" cx="226" cy="82" r="3"/>
</g>
<g>
<title>vertex: 22 (no sorter)</title>
<circle class="separator-node" cx="412" cy="596" r="3"/>
</g>
<g>
<title>vertex: 23 (no sorter)</title>
<circle class="separator-node" cx="364" cy="489" r="3"/>
</g>
<g>
<title>vertex: 24 (no sorter)</title>
<circle class="separator-node" cx="504" cy="418" r="3"/>
</g>
<g>
<title>vertex: 25 (no sorter)</title>
<circle class="separator-node" cx="96" cy="551" r="3"/>
</g>
<g>
<title>vertex: 26 (no sorter)</title>
<circle class="separator-node" cx="586" cy="314" r="3"/>
</g>
<g>
<title>vertex: 27 (no sorter)</title>
<circle class="separator-node" cx="544" cy="538" r="3"/>
</g>
<g>
<title>vertex: 28 (no sorter)</title>
<circle class="separator-node" cx="588" cy="550" r="3"/>
</g>
<g>
<title>vertex: 29 (no sorter)</title>
<circle class="separator-node" cx="447" cy="266" r="3"/>
</g>
<g>
<title>vertex: 30 (no sorter)</title>
<circle class="separator-node" cx="190" cy="525" r="3"/>
</g>
<g>
<title>vertex: 31 (no sorter)</title>
<circle class="separator-node" cx="504" cy="425" r="3"/>
</g>
<g>
<title>vertex: 32 (no sorter)</title>
<circle class="separator-node" cx="22" cy="417" r="3"/>
</g>
<g>
<title>vertex: 33 (no sorter)</title>
<circle class="separator-node" cx="293" cy="401" r="3"/>
</g>
<g>
<title>vertex: 34 (no sorter)</title>
<circle class="separator-node" cx="240" cy="288" r="3"/>
</g>
<g>
<title>vertex: 35 (no sorter)</title>
<circle class="separator-node" cx="123" cy="301" r="3"/>
</g>
<g>
<title>vertex: 36 (no sorter)</title>
<circle class="separator-node" cx="247" cy="435" r="3"/>
</g>
<g>
<title>vertex: 37 (no sorter)</title>
<circle class="separator-node" cx="393" cy="190" r="3"/>
</g>
<g>
<title>vertex: 38 (no sorter)</title>
<circle class="separator-node" cx="320" cy="476" r="3"/>
</g>
<g>
<title>vertex: 39 (no sorter)</title>
<circle class="separator-node" cx="346" cy="187" r="3"/>
</g>
<g>
<title>vertex: 40 (sorter 5)</title>
<circle class="separator-node" cx="20" cy="311" r="3"/>
</g>
<g>
<title>vertex: 41 (sorter 5)</title>
<circle class="separator-node" cx="175" cy="81" r="3"/>
</g>
<g>
<title>vertex: 42 (sorter 5)</title>
<circle class="separator-node" cx="464" cy="518" r="3"/>
</g>
<g>
<title>vertex: 43 (sorter 5)</title>
<circle class="separator-node" cx="369" cy="95" r="3"/>
</g>
<g>
<title>vertex: 44 (sorter 5)</title>
<circle class="separator-node" cx="549" cy="131" r="3"/>
</g>
<g>
<title>vertex: 45 (sorter 5)</title>
<circle class="separator-node" cx="279" cy="558" r="3"/>
</g>
<g>
<title>vertex: 46 (no sorter)</title>
<circle class="separator-node" cx="398" cy="144" r="3"/>
</g>
<g>
<title>vertex: 47 (sorter 5)</title>
<circle class="separator-node" cx="531" cy="184" r="3"/>
</g>
<g>
<title>vertex: 48 (sorter 5)</title>
<circle class="separator-node" cx="217" cy="92" r="3"/>
</g>
<g>
<title>vertex: 49 (sorter 5)</title>
<circle class="separator-node" cx="421" cy="226" r="3"/>
</g>
<g>
<title>vertex: 50 (sorter 5)</title>
<circle class="separator-node" cx="297" cy="85" r="3"/>
</g>
<g>
<title>vertex: 51 (sorter 5)</title>
<circle class="separator-node" cx="178" cy="375" r="3"/>
</g>
<g>
<title>vertex: 52 (sorter 5)</title>
<circle class="separator-node" cx="139" cy="180" r="3"/>
</g>
<g>
<title>vertex: 53 (sorter 5)</title>
<circle class="separator-node" cx="139" cy="410" r="3"/>
</g>
<g>
<title>vertex: 54 (sorter 5)</title>
<circle class="separator-node" cx="14" cy="369" r="3"/>
</g>
<g>
<title>vertex: 55 (no sorter)</title>
<circle class="separator-node" cx="183" cy="88" r="3"/>
</g>
<g>
<title>vertex: 56 (sorter 5)</title>
<circle class="separator-node" cx="160" cy="541" r="3"/>
</g>
<g>
<title>vertex: 57 (sorter 5)</title>
<circle class="separator-node" cx="42" cy="174" r="3"/>
</g>
<g>
<title>vertex: 58 (sorter 5)</title>
<circle class="separator-node" cx="550" cy="444" r="3"/>
</g>
<g>
<title>vertex: 59 (sorter 5)</title>
<circle class="separator-node" cx="4" cy="571" r="3"/>
</g>
<g>
<title>vertex: 60 (sorter 5)</title>
<circle class="separator-node" cx="568" cy="154" r="3"/>
</g>
<g>
<title>vertex: 61 (sorter 5)</title>
<circle class="separator-node" cx="190" cy="332" r="3"/>
</g>
<g>
<title>vertex: 62 (sorter 5)</title>
<circle class="separator-node" cx="417" cy="61" r="3"/>
</g>
<g>
<title>vertex: 63 (no sorter)</title>
<circle class="separator-node" cx="7" cy="111" r="3"/>
</g>
<g>
<title>vertex: 64 (sorter 5)</title>
<circle class="separator-node" cx="117" cy="406" r="3"/>
</g>
<g>
<title>vertex: 65 (sorter 5)</title>
<circle class="separator-node" cx="557" cy="483" r="3"/>
</g>
<g>
<title>vertex: 66 (sorter 5)</title>
<circle class="separator-node" cx="386" cy="41" r="3"/>
</g>
<g>
<title>vertex: 67 (sorter 5)</title>
<circle class="separator-node" cx="355" cy="231" r="3"/>
</g>
<g>
<title>vertex: 68 (sorter 5)</title>
<circle class="separator-node" cx="68" cy="190" r="3"/>
</g>
<g>
<title>vertex: 69 (sorter 5)</title>
<circle class="separator-node" cx="131" cy="165" r="3"/>
</g>
<g>
<title>vertex: 70 (sorter 5)</title>
<circle class="separator-node" cx="28" cy="269" r="3"/>
</g>
<g>
<title>vertex: 71 (sorter 5)</title>
<circle class="separator-node" cx="202" cy="270" r="3"/>
</g>
<g>
<title>vertex: 72 (sorter 5)</title>
<circle class="separator-node" cx="269" cy="160" r="3"/>
</g>
<g>
<title>vertex: 73 (sorter 5)</title>
<circle class="separator-node" cx="63" cy="184" r="3"/>
</g>
<g>
<title>vertex: 74 (sorter 5)</title>
<circle class="separator-node" cx="230" cy="129" r="3"/>
</g>
<g>
<title>vertex: 75 (sorter 5)</title>
<circle class="separator-node" cx="381" cy="499" r="3"/>
</g>
<g>
<title>vertex: 76 (sorter 5)</title>
<circle class="separator-node" cx="451" cy="386" r="3"/>
</g>
<g>
<title>vertex: 77 (sorter 5)</title>
<circle class="separator-node" cx="523" cy="76" r="3"/>
</g>
<g>
<title>vertex: 78 (sorter 5)</title>
<circle class="separator-node" cx="45" cy="443" r="3"/>
</g>
<g>
<title>vertex: 79 (sorter 5)</title>
<circle class="separator-node" cx="507" cy="300" r="3"/>
</g>
<g>
<title>vertex: 80 (sorter 5)</title>
<circle class="separator-node" cx="281" cy="168" r="3"/>
</g>
<g>
<title>vertex: 81 (sorter 5)</title>
<circle class="separator-node" cx="545" cy="480" r="3"/>
</g>
<g>
<title>vertex: 82 (sorter 5)</title>
<circle class="separator-node" cx="358" cy="126" r="3"/>
</g>
<g>
<title>vertex: 83 (sorter 5)</title>
<circle class="separator-node" cx="205" cy="46" r="3"/>
</g>
<g>
<title>vertex: 84 (sorter 5)</title>
<circle class="separator-node" cx="15" cy="451" r="3"/>
</g>
<g>
<title>vertex: 85 (sorter 5)</title>
<circle class="separator-node" cx="31" cy="89" r="3"/>
</g>
<g>
<title>vertex: 86 (sorter 5)</title>
<circle class="separator-node" cx="368" cy="312" r="3"/>
</g>
<g>
<title>vertex: 87 (sorter 5)</title>
<circle class="separator-node" cx="35" cy="521" r="3"/>
</g>
<g>
<title>vertex: 88 (sorter 5)</title>
<circle class="separator-node" cx="76" cy="353" r="3"/>
</g>
<g>
<title>vertex: 89 (sorter 5)</title>
<circle class="separator-node" cx="331" cy="168" r="3"/>
</g>
<g>
<title>vertex: 90 (sorter 5)</title>
<circle class="separator-node" cx="377" cy="319" r="3"/>
</g>
<g>
<title>vertex: 91 (sorter 5)</title>
<circle class="separator-node" cx="147" cy="233" r="3"/>
</g>
<g>
<title>vertex: 92 (sorter 5)</title>
<circle class="separator-node" cx="184" cy="559" r="3"/>
</g>
<g>
<title>vertex: 93 (sorter 5)</title>
<circle class="separator-node" cx="358" cy="274" r="3"/>
</g>
<g>
<title>vertex: 94 (sorter 5)</title>
<circle class="separator-node" cx="197" cy="593" r="3"/>
</g>
<g>
<title>vertex: 95 (sorter 5)</title>
<circle class="separator-node" cx="299" cy="390" r="3"/>
</g>
<g>
<title>vertex: 96 (no sorter)</title>
<circle class="separator-node" cx="477" cy="50" r="3"/>
</g>
<g>
<title>vertex: 97 (sorter 5)</title>
<circle class="separator-node" cx="338" cy="582" r="3"/>
</g>
<g>
<title>vertex: 98 (sorter 5)</title>
<circle class="separator-node" cx="296" cy="132" r="3"/>
</g>
<g>
<title>vertex: 99 (sorter 5)</title>
<circle class="separator-node" cx="100" cy="88" r="3"/>
</g>
<g>
<title>vertex: 100 (sorter 5)</title>
<circle class="separator-node" cx="411" cy="352" r="3"/>
</g>
<g>
<title>vertex: 101 (sorter 5)</title>
<circle class="separator-node" cx="560" cy="289" r="3"/>
</g>
<g>
<title>vertex: 102 (sorter 5)</title>
<circle class="separator-node" cx="484" cy="563" r="3"/>
</g>
<g>
<title>vertex: 103 (sorter 5)</title>
<circle class="separator-node" cx="110" cy="140" r="3"/>
</g>
<g>
<title>vertex: 104 (sorter 5)</title>
<circle class="separator-node" cx="152" cy="475" r="3"/>
</g>
<g>
<title>vertex: 105 (sorter 5)</title>
<circle class="separator-node" cx="243" cy="353" r="3"/>
</g>
<g>
<title>vertex: 106 (sorter 5)</title>
<circle class="separator-node" cx="237" cy="428" r="3"/>
</g>
<g>
<title>vertex: 107 (sorter 5)</title>
<circle class="separator-node" cx="50" cy="515" r="3"/>
</g>
<g>
<title>vertex: 108 (no sorter)</title>
<circle class="separator-node" cx="186" cy="415" r="3"/>
</g>
<g>
<title>vertex: 109 (sorter 5)</title>
<circle class="separator-node" cx="198" cy="215" r="3"/>
</g>
<g>
<title>vertex: 110 (sorter 5)</title>
<circle class="separator-node" cx="179" cy="351" r="3"/>
</g>
<g>
<title>vertex: 111 (sorter 5)</title>
<circle class="separator-node" cx="563" cy="66" r="3"/>
</g>
<g>
<title>vertex: 112 (sorter 5)</title>
<circle class="separator-node" cx="302" cy="78" r="3"/>
</g>
<g>
<title>vertex: 113 (sorter 5)</title>
<circle class="separator-node" cx="333" cy="376" r="3"/>
</g>
<g>
<title>vertex: 114 (no sorter)</title>
<circle class="separator-node" cx="403" cy="148" r="3"/>
</g>
<g>
<title>vertex: 115 (sorter 5)</title>
<circle class="separator-node" cx="403" cy="556" r="3"/>
</g>
<g>
<title>vertex: 116 (sorter 5)</title>
<circle class="separator-node" cx="285" cy="171" r="3"/>
</g>
<g>
<title>vertex: 117 (sorter 5)</title>
<circle class="separator-node" cx="102" cy="179" r="3"/>
</g>
<g>
<title>vertex: 118 (sorter 5)</title>
<circle class="separator-node" cx="255" cy="184" r="3"/>
</g>
<g>
<title>vertex: 119 (sorter 5)</title>
<circle class="separator-node" cx="377" cy="66" r="3"/>
</g>
<g>
<title>vertex: 120 (sorter 5)</title>
<circle class="separator-node" cx="252" cy="573" r="3"/>
</g>
<g>
<title>vertex: 121 (sorter 5)</title>
<circle class="separator-node" cx="210" cy="107" r="3"/>
</g>
<g>
<title>vertex: 122 (sorter 5)</title>
<circle class="separator-node" cx="23" cy="56" r="3"/>
</g>
<g>
<title>vertex: 123 (sorter 5)</title>
<circle class="separator-node" cx="396" cy="89" r="3"/>
</g>
<g>
<title>vertex: 124 (sorter 5)</title>
<circle class="separator-node" cx="575" cy="275" r="3"/>
</g>
<g>
<title>vertex: 125 (sorter 5)</title>
<circle class="separator-node" cx="84" cy="297" r="3"/>
</g>
<g>
<title>vertex: 126 (sorter 5)</title>
<circle class="separator-node" cx="453" cy="62" r="3"/>
</g>
<g>
<title>vertex: 127 (sorter 5)</title>
<circle class="separator-node" cx="395" cy="412" r="3"/>
</g>
<g>
<title>vertex: 128 (no sorter)</title>
<circle class="separator-node" cx="388" cy="241" r="3"/>
</g>
<g>
<title>vertex: 129 (sorter 5)</title>
<circle class="separator-node" cx="437" cy="575" r="3"/>
</g>
<g>
<title>vertex: 130 (sorter 5)</title>
<circle class="separator-node" cx="122" cy="382" r="3"/>
</g>
<g>
<title>vertex: 131 (sorter 5)</title>
<circle class="separator-node" cx="42" cy="193" r="3"/>
</g>
<g>
<title>vertex: 132 (sorter 5)</title>
<circle class="separator-node" cx="177" cy="589" r="3"/>
</g>
<g>
<title>vertex: 133 (sorter 5)</title>
<circle class="separator-node" cx="75" cy="248" r="3"/>
</g>
<g>
<title>vertex: 134 (sorter 5)</title>
<circle class="separator-node" cx="215" cy="205" r="3"/>
</g>
<g>
<title>vertex: 135 (sorter 5)</title>
<circle class="separator-node" cx="63" cy="259" r="3"/>
</g>
<g>
<title>vertex: 136 (sorter 5)</title>
<circle class="separator-node" cx="486" cy="26" r="3"/>
</g>
<g>
<title>vertex: 137 (sorter 5)</title>
<circle class="separator-node" cx="402" cy="193" r="3"/>
</g>
<g>
<title>vertex: 138 (sorter 5)</title>
<circle class="separator-node" cx="405" cy="217" r="3"/>
</g>
<g>
<title>vertex: 139 (sorter 5)</title>
<circle class="separator-node" cx="36" cy="150" r="3"/>
</g>
<g>
<title>vertex: 140 (sorter 5)</title>
<circle class="separator-node" cx="318" cy="140" r="3"/>
</g>
<g>
<title>vertex: 141 (sorter 5)</title>
<circle class="separator-node" cx="585" cy="243" r="3"/>
</g>
<g>
<title>vertex: 142 (sorter 5)</title>
<circle class="separator-node" cx="359" cy="334" r="3"/>
</g>
<g>
<title>vertex: 143 (sorter 5)</title>
<circle class="separator-node" cx="220" cy="349" r="3"/>
</g>
<g>
<title>vertex: 144 (sorter 5)</title>
<circle class="separator-node" cx="471" cy="47" r="3"/>
</g>
<g>
<title>vertex: 145 (sorter 5)</title>
<circle class="separator-node" cx="92" cy="319" r="3"/>
</g>
<g>
<title>vertex: 0 (processor 0)</title>
<circle class="processor-node" cx="111" cy="63" r="4"/>
</g>
<g>
<title>vertex: 1 (processor 1)</title>
<circle class="processor-node" cx="142" cy="533" r="4"/>
</g>
<g>
<title>vertex: 2 (processor 2)</title>
<circle class="processor-node" cx="150" cy="303" r="4"/>
</g>
<g>
<title>vertex: 3 (processor 3)</title>
<circle class="processor-node" cx="462" cy="547" r="4"/>
</g>
<g>
<title>vertex: 4 (processor 4)</title>
<circle class="processor-node" cx="88" cy="566" r="4"/>
</g>
<g>
<title>vertex: 5 (processor 5)</title>
<circle class="processor-node" cx="194" cy="43" r="4"/>
</g>
<g>
<title>vertex: 6 (processor 6)</title>
<circle class="processor-node" cx="301" cy="90" r="4"/>
</g>
<g>
<title>vertex: 7 (processor 7)</title>
<circle class="processor-node" cx="578" cy="340" r="4"/>
</g>
<g>
<title>vertex: 8 (processor 8)</title>
<circle class="processor-node" cx="35" cy="332" r="4"/>
</g>
<g>
<title>vertex: 9 (processor 9)</title>
<circle class="processor-node" cx="83" cy="453" r="4"/>
</g>
<g>
<title>vertex: 10 (processor 10)</title>
<circle class="processor-node" cx="286" cy="277" r="4"/>
</g>
<g>
<title>vertex: 11 (processor 11)</title>
<circle class="processor-node" cx="520" cy="397" r="4"/>
</g>
<g>
<title>vertex: 12 (processor 12)</title>
<circle class="processor-node" cx="369" cy="118" r="4"/>
</g>
</svg>
        </div>
    </div>
    
    <script>
        const inputData = {"N":13,"M":133,"K":47,"pos":[[1858,8963],[2368,1117],[2507,4965],[7710,890],[1468,578],[3244,9299],[5025,8511],[9642,4334],[599,4476],[1388,2454],[4779,5389],[8676,3397],[6156,8034],[4102,6415],[8251,3509],[9320,4268],[1193,1486],[4847,2021],[4440,9046],[8991,8142],[6633,5942],[3778,8637],[6876,74],[6067,1863],[8407,3044],[1604,822],[9775,4772],[9083,1045],[9803,847],[7455,5575],[3183,1259],[8407,2922],[371,3058],[4890,3331],[4014,5211],[2054,4998],[4121,2752],[6559,6840],[5346,2079],[5773,6895],[335,4826],[2920,8652],[7735,1367],[6162,8431],[9157,7821],[4653,704],[6642,7613],[8857,6949],[3623,8476],[7022,6237],[4959,8592],[2981,3756],[2329,7006],[2328,3175],[249,3861],[3051,8548],[2673,996],[714,7101],[9170,2616],[70,490],[9474,7442],[3173,4483],[6962,8988],[129,8154],[1965,3249],[9297,1953],[6438,9318],[5926,6158],[1136,6845],[2191,7256],[475,5531],[3383,5500],[4499,7348],[1062,6942],[3835,7850],[6357,1687],[7532,3576],[8723,8738],[760,2627],[8460,5002],[4686,7214],[9095,2003],[5976,7913],[3428,9235],[266,2484],[527,8521],[6142,4813],[588,1327],[1267,4124],[5523,7202],[6286,4698],[2459,6133],[3068,689],[5979,5443],[3284,133],[4996,3507],[7965,9183],[5634,316],[4940,7810],[1672,8535],[6853,4148],[9340,5193],[8069,632],[1836,7667],[2546,2085],[4054,4133],[3953,2870],[842,1426],[3115,3095],[3310,6422],[2990,4161],[9395,8903],[5047,8714],[5566,3742],[6731,7534],[6722,749],[4764,7151],[1713,7025],[4254,6934],[6297,8912],[4215,462],[3514,8224],[398,9070],[6611,8531],[9596,5432],[1411,5057],[7552,8981],[6596,3135],[6479,5998],[7299,423],[2041,3637],[710,6793],[2958,189],[1252,5867],[3588,6591],[1057,5697],[8112,9569],[6711,6792],[6763,6384],[616,7507],[5311,7674],[9751,5960],[5991,4435],[3668,4186],[7865,9219],[1535,4695]],"ps":[[0.7947,0.5717,0.1458,0.7273,0.1395,0.5274,0.7105,0.663,0.5254,0.1861,0.8898,0.4124,0.8373],[0.8285,0.6842,0.7812,0.7602,0.8161,0.6065,0.2316,0.3189,0.1706,0.1754,0.5127,0.1849,0.1398],[0.5147,0.614,0.5256,0.7881,0.4148,0.361,0.7228,0.5083,0.7442,0.6778,0.7014,0.1979,0.7725],[0.3479,0.5942,0.2791,0.6912,0.5923,0.785,0.8101,0.4307,0.1955,0.8941,0.5841,0.7685,0.3365],[0.4116,0.3389,0.7719,0.8792,0.5796,0.5751,0.1132,0.2053,0.5233,0.8496,0.5604,0.7999,0.8949],[0.6201,0.3431,0.3317,0.8918,0.7173,0.8363,0.8314,0.7755,0.2087,0.1003,0.3819,0.8538,0.1853],[0.5341,0.2075,0.3356,0.1762,0.2904,0.8025,0.5798,0.8951,0.5324,0.6448,0.3785,0.5311,0.8397],[0.7767,0.4043,0.7621,0.4336,0.7617,0.3717,0.5117,0.8811,0.3867,0.5574,0.2229,0.4948,0.2109],[0.2918,0.1748,0.6747,0.8715,0.2433,0.5604,0.8109,0.6585,0.485,0.4937,0.7828,0.5056,0.4923],[0.2074,0.5636,0.2931,0.7722,0.4598,0.3112,0.2513,0.1173,0.8946,0.2885,0.3746,0.4158,0.1289],[0.6646,0.8395,0.189,0.5334,0.116,0.7439,0.5963,0.1967,0.3549,0.2631,0.4714,0.3812,0.121],[0.5868,0.405,0.2678,0.292,0.6503,0.3704,0.4336,0.5353,0.6986,0.1129,0.2086,0.1183,0.204],[0.4108,0.143,0.2123,0.4538,0.6206,0.2628,0.1833,0.675,0.7179,0.4557,0.5837,0.3481,0.8241],[0.7121,0.6299,0.6964,0.6125,0.7442,0.4419,0.272,0.1329,0.2044,0.6554,0.218,0.7193,0.7337],[0.7011,0.1872,0.6595,0.1431,0.4645,0.5205,0.7408,0.1855,0.822,0.7275,0.2853,0.3204,0.4627],[0.5218,0.6348,0.3389,0.8584,0.2942,0.274,0.4592,0.2506,0.8733,0.8386,0.6548,0.2667,0.8584],[0.8958,0.7544,0.4056,0.1245,0.6517,0.8921,0.7763,0.3818,0.753,0.3751,0.6342,0.7434,0.4215],[0.2749,0.3961,0.4172,0.1673,0.4351,0.3963,0.522,0.2972,0.3792,0.5992,0.7891,0.5944,0.4958],[0.5049,0.1172,0.6678,0.4131,0.2468,0.7376,0.6962,0.5892,0.3075,0.4466,0.6821,0.3681,0.3261],[0.2087,0.1496,0.2146,0.6869,0.4596,0.7237,0.2283,0.2242,0.7294,0.1675,0.8079,0.6417,0.7165],[0.4842,0.3767,0.7664,0.7524,0.5782,0.1098,0.3663,0.5658,0.3647,0.1522,0.6769,0.7871,0.5725],[0.4457,0.275,0.3091,0.7717,0.6955,0.1686,0.5195,0.5703,0.7169,0.4944,0.5972,0.251,0.3722],[0.6483,0.3851,0.3562,0.8226,0.4714,0.5673,0.217,0.8736,0.8041,0.4816,0.6178,0.1427,0.1894],[0.143,0.2933,0.3126,0.8151,0.7037,0.5676,0.2704,0.3305,0.622,0.1465,0.208,0.5824,0.1398],[0.2149,0.2998,0.1146,0.8847,0.8714,0.1295,0.8328,0.4172,0.1081,0.3282,0.3044,0.7896,0.5094],[0.5783,0.8544,0.7956,0.2967,0.7709,0.1041,0.1021,0.6928,0.5704,0.2814,0.5847,0.5448,0.6967],[0.3834,0.5092,0.8551,0.7886,0.1314,0.396,0.69,0.4573,0.507,0.6776,0.6555,0.5269,0.3392],[0.1611,0.5018,0.1274,0.1432,0.3938,0.4762,0.513,0.8322,0.8457,0.8087,0.1703,0.1075,0.1604],[0.1997,0.7419,0.1717,0.403,0.4894,0.3377,0.3162,0.6859,0.1615,0.8698,0.5788,0.8138,0.5818],[0.4859,0.3316,0.8085,0.4157,0.8243,0.4599,0.5926,0.5802,0.6918,0.1755,0.3048,0.5425,0.3713],[0.5403,0.157,0.4645,0.7979,0.2681,0.8216,0.2177,0.536,0.6601,0.7411,0.4305,0.8996,0.8515],[0.3653,0.8646,0.2023,0.2481,0.5197,0.8658,0.8288,0.209,0.3178,0.3384,0.6897,0.4686,0.1087],[0.2876,0.4619,0.5801,0.5664,0.6368,0.6487,0.811,0.6732,0.1831,0.4944,0.6158,0.5406,0.5401],[0.4234,0.3891,0.237,0.7762,0.8843,0.8458,0.6728,0.3381,0.4985,0.2366,0.8303,0.104,0.5701],[0.1297,0.3075,0.643,0.4957,0.7719,0.6939,0.7531,0.5474,0.5737,0.754,0.4508,0.1765,0.7806],[0.5881,0.73,0.7944,0.7544,0.1365,0.178,0.58,0.5754,0.3439,0.8311,0.4328,0.7358,0.3163],[0.2535,0.5585,0.6483,0.1642,0.1291,0.8911,0.7827,0.8863,0.7378,0.476,0.3481,0.8681,0.7335],[0.4697,0.1786,0.3,0.4476,0.3325,0.7877,0.5377,0.6881,0.5053,0.8013,0.5359,0.6286,0.3323],[0.8809,0.5817,0.2729,0.3885,0.2775,0.4435,0.8356,0.2798,0.5751,0.6667,0.4997,0.7838,0.6363],[0.6267,0.7182,0.6751,0.7085,0.4753,0.7842,0.8322,0.4385,0.7766,0.1075,0.1791,0.8696,0.1037],[0.4336,0.846,0.5259,0.535,0.7094,0.1762,0.4207,0.7375,0.4378,0.234,0.5642,0.7896,0.3129],[0.1505,0.558,0.3774,0.7196,0.7524,0.8902,0.4146,0.1722,0.7837,0.3907,0.2465,0.3367,0.6686],[0.7948,0.1337,0.8616,0.4249,0.3155,0.2698,0.1273,0.4942,0.7133,0.2159,0.7039,0.7372,0.4182],[0.5986,0.3626,0.1562,0.1946,0.5486,0.1648,0.2525,0.7382,0.8283,0.3628,0.4541,0.2651,0.8978],[0.1668,0.479,0.3921,0.7325,0.3574,0.4265,0.8023,0.8647,0.8215,0.4398,0.2749,0.2215,0.8907],[0.4803,0.6133,0.1684,0.1372,0.625,0.3488,0.5522,0.1836,0.282,0.2808,0.1747,0.1864,0.7046],[0.4214,0.6384,0.4454,0.719,0.2064,0.4953,0.3946,0.7983,0.7207,0.3334,0.5841,0.646,0.2462]]};
        const outputData = {"ds":[0,1,2,3,4,5,6,7,8,9,10,11,12],"s":40,"cs":[[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[18446744073709551615,18446744073709551615,18446744073709551615],[5,8,70],[5,5,5],[5,3,102],[5,12,119],[5,12,12],[5,120,97],[18446744073709551615,18446744073709551615,18446744073709551615],[5,60,44],[5,83,5],[5,47,47],[5,6,112],[5,36,36],[5,91,2],[5,106,106],[5,8,8],[18446744073709551615,18446744073709551615,18446744073709551615],[5,1,132],[5,85,99],[5,11,7],[5,87,107],[5,19,19],[5,110,143],[5,66,12],[18446744073709551615,18446744073709551615,18446744073709551615],[5,9,104],[5,7,7],[5,12,5],[5,10,10],[5,73,57],[5,109,134],[5,135,133],[5,2,118],[5,6,50],[5,117,103],[5,21,21],[5,115,3],[5,11,11],[5,12,12],[5,9,8],[5,7,7],[5,98,140],[5,11,11],[5,12,12],[5,5,5],[5,54,54],[5,0,0],[5,67,67],[5,84,78],[5,8,130],[5,10,10],[5,79,79],[5,2,2],[5,94,94],[5,10,10],[5,59,59],[5,10,93],[18446744073709551615,18446744073709551615,18446744073709551615],[5,129,3],[5,6,12],[5,0,0],[5,11,11],[5,7,7],[5,3,81],[5,0,41],[5,1,1],[5,95,10],[5,45,45],[5,4,9],[18446744073709551615,18446744073709551615,18446744073709551615],[5,80,2],[5,51,105],[5,12,12],[5,6,12],[5,90,100],[18446744073709551615,18446744073709551615,18446744073709551615],[5,3,3],[5,89,10],[5,69,52],[5,82,12],[5,12,5],[5,22,22],[5,5,5],[5,0,5],[5,12,12],[5,141,111],[5,2,2],[5,136,136],[5,76,76],[18446744073709551615,18446744073709551615,18446744073709551615],[5,3,3],[5,64,53],[5,139,139],[5,1,1],[5,68,131],[5,72,74],[5,125,145],[5,5,5],[5,12,12],[5,12,12],[5,122,122],[5,12,12],[5,7,7],[5,49,49],[5,71,71],[5,77,77],[5,88,8]]};
        let probabilities = {};
        
        function calculateProbabilities(input, output) {
            const probs = {};
            const N = input.N;
            const M = input.M;
            
            // 各ゴミ種類の確率を計算
            for (let wasteType = 0; wasteType < N; wasteType++) {
                probs[wasteType] = {};
                
                // 全ノードの確率を初期化
                for (let i = 0; i < N + M; i++) {
                    probs[wasteType][i] = 0.0;
                }
                
                // 開始ノードの確率を1.0に設定
                probs[wasteType][output.s] = 1.0;
                
                // トポロジカルソートに基づいて確率を伝播
                const visited = new Set();
                const queue = [output.s];
                
                while (queue.length > 0) {
                    const node = queue.shift();
                    if (visited.has(node)) continue;
                    visited.add(node);
                    
                    if (node >= N) { // 分別器ノード
                        const sepIndex = node - N;
                        if (output.cs[sepIndex][0] !== 4294967295) { // !0 in Rust is max u32
                            const sortType = output.cs[sepIndex][0];
                            const v1 = output.cs[sepIndex][1];
                            const v2 = output.cs[sepIndex][2];
                            
                            const prob1 = input.ps[sortType][wasteType];
                            const prob2 = 1.0 - prob1;
                            
                            probs[wasteType][v1] += probs[wasteType][node] * prob1;
                            probs[wasteType][v2] += probs[wasteType][node] * prob2;
                            
                            queue.push(v1);
                            queue.push(v2);
                        }
                    }
                }
            }
            
            return probs;
        }
        
        function getColor(probability) {
            const r = Math.round(30 + (255 - 30) * probability);
            const g = Math.round(144 + (30 - 144) * probability);
            const b = Math.round(255 + (30 - 255) * probability);
            return `rgb(${r}, ${g}, ${b})`;
        }
        
        function updateVisualization() {
            const wasteType = parseInt(document.getElementById('wasteTypeSlider').value);
            const valueDisplay = document.getElementById('wasteTypeValue');
            const probInfo = document.getElementById('probInfo');
            
            if (wasteType === -1) {
                valueDisplay.textContent = '全体表示';
                probInfo.textContent = '';
                resetVisualization();
                return;
            }
            
            valueDisplay.textContent = `ゴミ種類 ${wasteType}`;
            
            // 対応する処理装置を取得
            const correctProcessor = outputData.ds[wasteType];
            const successProb = probabilities[wasteType][correctProcessor] || 0;
            probInfo.innerHTML = `<strong>ゴミ種類 ${wasteType}</strong> → 処理装置 ${correctProcessor} (成功確率: ${(successProb * 100).toFixed(1)}%)`;
            
            // SVG要素を更新
            updateSVGColors(wasteType);
            highlightProcessor(correctProcessor);
        }
        
        function resetVisualization() {
            // 全ての線を灰色に戻す
            document.querySelectorAll('.edge-line').forEach(line => {
                line.style.stroke = 'gray';
            });
            
            // 全ての処理装置の強調を解除
            document.querySelectorAll('.processor-node').forEach(circle => {
                circle.classList.remove('highlighted');
                circle.style.stroke = 'darkgreen';
            });
        }
        
        function updateSVGColors(wasteType) {
            // 全ての線の色を確率に応じて更新
            document.querySelectorAll('.edge-line').forEach(line => {
                const group = line.parentElement;
                const title = group.querySelector('title').textContent;
                
                // タイトルから始点と終点を抽出
                const match = title.match(/(\\d+) - (\\d+)|inlet - (\\d+)/);
                if (match) {
                    let prob = 0;
                    if (match[3]) { // inlet case
                        const endNode = parseInt(match[3]);
                        prob = probabilities[wasteType][endNode] || 0;
                    } else { // separator case
                        const endNode = parseInt(match[2]);
                        prob = probabilities[wasteType][endNode] || 0;
                    }
                    
                    line.style.stroke = getColor(prob);
                }
            });
        }
        
        function highlightProcessor(processorId) {
            // 全ての処理装置の強調を解除
            document.querySelectorAll('.processor-node').forEach(circle => {
                circle.classList.remove('highlighted');
                circle.style.stroke = 'darkgreen';
            });
            
            // 対応する処理装置を強調
            const processorGroups = document.querySelectorAll('g');
            processorGroups.forEach(group => {
                const title = group.querySelector('title');
                if (title && title.textContent.includes(`vertex: ${processorId} (processor`)) {
                    const circle = group.querySelector('.processor-node');
                    if (circle) {
                        circle.classList.add('highlighted');
                        circle.style.stroke = '#ff6347';
                        circle.style.strokeWidth = '4';
                    }
                }
            });
        }
        
        // 初期化
        document.addEventListener('DOMContentLoaded', function() {
            if (Object.keys(inputData).length > 0 && Object.keys(outputData).length > 0) {
                probabilities = calculateProbabilities(inputData, outputData);
                
                const slider = document.getElementById('wasteTypeSlider');
                slider.max = inputData.N - 1;
                
                updateVisualization();
            }
        });
    </script>
</body>
</html>