# AtCoder Heuristic Contest 001 - 問題仕様とビジュアライザ

## 問題概要
10000×10000の広告エリアに、n個の企業の広告スペースを長方形として配置する最適化問題。

## 入力
入力は以下の形式で標準入力から与えられる。

```
n
x₀ y₀ r₀
x₁ y₁ r₁
⋮
xₙ₋₁ yₙ₋₁ rₙ₋₁
```

### 制約
- `50 ≤ n ≤ 200`
- `xᵢ, yᵢ` は整数値であり、`0 ≤ xᵢ ≤ 9999`, `0 ≤ yᵢ ≤ 9999` を満たす
- 全ての `i ≠ j` に対し、`(xᵢ, yᵢ) ≠ (xⱼ, yⱼ)` が成り立つ（位置の重複なし）
- `rᵢ` は1以上の整数値であり、`∑ᵢ₌₀ⁿ⁻¹ rᵢ = 10000 × 10000` を満たす

## 出力
企業iの広告スペースを表す長方形の対角となる2頂点の座標を `(aᵢ, bᵢ), (cᵢ, dᵢ)` として出力。

```
a₀ b₀ c₀ d₀
a₁ b₁ c₁ d₁
⋮
aₙ₋₁ bₙ₋₁ cₙ₋₁ dₙ₋₁
```

### 制約
- `0 ≤ aᵢ < cᵢ ≤ 10000`, `0 ≤ bᵢ < dᵢ ≤ 10000`
- 長方形は正の面積を持つ
- 各長方形は対応する企業の位置 `(xᵢ, yᵢ)` を含む
- 長方形同士は重複しない

## スコア計算
企業iの個別スコア：
```
企業iの広告スペースが点(xᵢ + 0.5, yᵢ + 0.5)を含まない場合: pᵢ = 0
企業iの広告スペースが点(xᵢ + 0.5, yᵢ + 0.5)を含む場合:
  面積をsᵢとして
  pᵢ = 1 - (1 - min(rᵢ, sᵢ)/max(rᵢ, sᵢ))²
```

総合スコア：
```
総合スコア = (∑ᵢ₌₀ⁿ⁻¹ pᵢ / n) × 10⁹
```

## ビジュアライザ仕様

### 入力形式
```
n
x₀ y₀ r₀
⋮
xₙ₋₁ yₙ₋₁ rₙ₋₁
a₀ b₀ c₀ d₀     # 1回目の出力
⋮
aₙ₋₁ bₙ₋₁ cₙ₋₁ dₙ₋₁
a₀ b₀ c₀ d₀     # 2回目の出力（複数回可能）
⋮
```

### 使用方法
```bash
go build visualizer.go
./visualizer input.txt output.gif
```

### 視覚化要素

#### 1. レイアウト
- **全体サイズ**: 800×850ピクセル
- **ヘッダー**: 上部50ピクセル（スコア表示用）
- **ゲームエリア**: 800×800ピクセル（10000×10000を縮小）

#### 2. 色分け
- **背景**: 白色
- **ヘッダー**: 薄いグレー
- **長方形**: スコアに基づくグラデーション
  - スコア = 0: 青色
  - 0 < スコア < 1: 青→ピンクのグラデーション
  - スコア ≥ 1: ピンク→赤のグラデーション

#### 3. 描画要素
- **入力点**: 緑色の円（半径2ピクセル）
- **長方形**: スコア別色分け + 黒い境界線
- **接続線**: 入力点から長方形中央への黒い線
- **インデックス番号**: 各長方形中央上部に黒文字（2倍サイズ）
- **個別スコア**: 各長方形中央下部に4桁表示（2倍サイズ）
- **総合スコア**: ヘッダー左上に表示（3倍サイズ）

#### 4. アニメーション
- **GIFアニメーション**: 複数の出力結果を時系列で表示
- **フレーム間隔**: 50ms（0.05秒）
- **ループ**: 無限ループ再生

#### 5. 検証機能
- 長方形の境界チェック
- 正の面積チェック
- 目標点包含チェック
- 重複チェック
- 問題がある場合は警告メッセージを出力

### 技術仕様
- **プログラミング言語**: Go
- **出力形式**: GIF（アニメーション対応）
- **色パレット**: 256色グラデーション
- **座標系**: 左上原点、右下が(width-1, height-1)
- **文字描画**: ビットマップパターン（2倍・3倍サイズ対応）

### 参考実装
Rust版の参考実装（gen.rs, vis.rs）に基づいて、同等の機能をGo言語で実装。SVG出力の代わりにGIFアニメーション機能を追加。