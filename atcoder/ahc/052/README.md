# ロボットワックスがけ問題

## 問題概要

N×Nマスのオフィスで、M台のロボットを使って全マスにワックスがけを行う問題です。

## 基本設定

- **グリッドサイズ**: N = 30 (固定)
- **ロボット数**: M = 10 (固定)  
- **ボタン数**: K = 10 (固定)
- **最大操作回数**: 2N² = 1800回
- **座標系**: 左上が(0,0)、下方向がi軸正方向、右方向がj軸正方向

## ゲームルール

### ロボットの動作
- 各ロボットは初期位置(iₖ, jₖ)からスタート
- 初期位置を含め、ロボットが通過したマスは全てワックスがけ完了
- 全ロボットは1つのコントローラーで同時操作
- ロボット同士は干渉せず、同一マスに複数台存在可能

### コントローラーの設定
- K個のボタンがあり、各ボタンと各ロボットの組み合わせに対して以下のいずれかを事前設定:
  - `U`: 上移動
  - `D`: 下移動  
  - `L`: 左移動
  - `R`: 右移動
  - `S`: 待機
- ボタンを押すと全ロボットが同時に対応する行動を実行
- ワックスがけ開始後のボタン設定変更は不可

### 壁の制約
- グリッド外周は壁で囲まれている
- 隣接マス間にも壁が存在する場合がある
- 壁がある方向への移動を試行した場合、ロボットはその場にとどまる
- 全マスは互いに到達可能であることが保証されている

## 入力フォーマット

```
N M K
i₀ j₀
⋮  
iₘ₋₁ jₘ₋₁
v₀,₀⋯v₀,ₙ₋₂
⋮
vₙ₋₁,₀⋯vₙ₋₁,ₙ₋₂  
h₀,₀⋯h₀,ₙ₋₁
⋮
hₙ₋₂,₀⋯hₙ₋₂,ₙ₋₁
```

### 入力説明
- `(iₖ, jₖ)`: k番目のロボットの初期位置（全て異なる）
- `vᵢ,ⱼ`: マス(i,j)と(i,j+1)間の壁の有無（1=壁あり, 0=壁なし）
- `hᵢ,ⱼ`: マス(i,j)と(i+1,j)間の壁の有無（1=壁あり, 0=壁なし）

## 出力フォーマット

### ボタン設定
```
c₀,₀ ⋯ c₀,ₘ₋₁
⋮
cₖ₋₁,₀ ⋯ cₖ₋₁,ₘ₋₁
```
- `cᵢ,ⱼ`: i番目のボタンでj番目のロボットが取る行動（U/D/L/R/S）

### 操作列
```
a₀
⋮
aₜ₋₁
```
- `aₜ`: t回目の操作で押すボタン番号（0 ≤ aₜ ≤ K-1）

## 得点計算

操作回数をT、未ワックスがけマス数をRとして：
- **R = 0の場合**: 3N² - T = 2700 - T
- **R > 0の場合**: N² - R = 900 - R

## 最適化目標

1. **第一目標**: 全マスのワックスがけ完了（R = 0）
2. **第二目標**: 操作回数Tの最小化

## 戦略のヒント

- ボタン設定でロボットの協調動作パターンを設計
- マス探索の効率化（重複訪問の最小化）
- 壁の配置を考慮した経路計画
- 複数ロボットによる並列作業の最適化